<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <link rel="stylesheet" href="/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="/css/bootstrap-theme.css"/>
  <link rel="stylesheet" href="/css/navigation.css"/>
  <link rel="stylesheet" href="/fonts/ali-font/iconfont.css"/>
  <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
  <script src="/js/bootstrap.js" type="application/javascript"></script>
  <script src="/js/community.js" type="application/javascript"></script>
</head>
<body>
<div th:fragment="nav">
  <div class="nav-head">
    <div class="warp">
      <div class="sourse-logo">
        <a href="/">
          <img src="/images/logo.png" alt="logo">
        </a>
      </div>

      <div class="nav-search" >
        <form action="/" method="get">
          <input type="text" name="search" placeholder="搜索..." class="form-control">
          <button type="submit" class="iconfont">&#xeafe;</button>
        </form>
      </div>

      <div class="nav-li">
        <ul>
          <li th:if="${session.user} != null">
            <a href="/publish">发帖</a>
          </li>
          <li th:if="${session.user} != null">
            <a href="/mine/reply">通知<span th:text="${session.unreadCount}"></span></a>
          </li>
          <li class="user-name" th:if="${session.user != null}">
            <a href="#" ><span th:text="${session.user.getName()}"></span></a>
            <div class="nav-li-list">
              <ul>
                <li><a href="/mine/myposts">我的</a></li>
                <li><a th:href="@{'/profile/' + ${session.user.id}}">个人主页</a></li>
                <li><a href="/logout">退出登录</a></li>
              </ul>
            </div>
          </li>
          <li th:if="${session.user == null}">
            <a th:href="@{https://github.com/login/oauth/authorize(client_id = '87df8eadcb6e3f32612f', redirect_url= ${#httpServletRequest.getRequestURL() + 'callback'}, scope = 'user', state=1)}">
              github登录
            </a>
          </li>
        </ul>
      </div>

    </div>
  </div>
<!--  <nav class="navbar navbar-default">-->
<!--    <div class="container-fluid">-->
<!--      <div class="navbar-header">-->
<!--        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">-->
<!--          <span class="sr-only">Source</span>-->
<!--        </button>-->
<!--        <a class="navbar-brand" href="/">Source</a>-->
<!--      </div>-->

<!--      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">-->
<!--        <form class="navbar-form navbar-left" action="/" method="get">-->
<!--          <div class="form-group">-->
<!--            <input type="text" class="form-control" name="search" placeholder="搜索话题">-->
<!--          </div>-->
<!--          <button type="submit" class="btn btn-default">搜索</button>-->
<!--        </form>-->
<!--        <ul class="nav navbar-nav navbar-right">-->
<!--          <li th:if="${session.user} != null">-->
<!--            <a href="/publish">发布新帖</a>-->
<!--          </li>-->
<!--          <li th:if="${session.user} != null">-->
<!--            <a href="/mine/reply">通知&nbsp;<span class="badge" th:text="${session.unreadCount}"></span></a>-->
<!--          </li>-->
<!--          <li class="dropdown" th:if="${session.user != null}">-->
<!--            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">-->
<!--              <span th:text="${session.user.getName()}"></span>-->
<!--              <span class="caret"></span>-->
<!--            </a>-->
<!--            <ul class="dropdown-menu">-->
<!--              <li><a href="/mine/myposts">我的</a></li>-->
<!--              <li><a th:href="@{'/profile/' + ${session.user.id}}">个人主页</a></li>-->
<!--              <li><a href="/logout">退出登录</a></li>-->
<!--            </ul>-->
<!--          </li>-->
<!--          <li th:if="${session.user == null}">-->
<!--            <a th:href="@{https://github.com/login/oauth/authorize(client_id = '87df8eadcb6e3f32612f', redirect_url= ${#httpServletRequest.getRequestURL() + 'callback'}, scope = 'user', state=1)}">-->
<!--              <div style="display: inline-block">-->
<!--                github登录-->
<!--              </div>-->
<!--            </a>-->
<!--          </li>-->
<!--        </ul>-->
<!--      </div>-->
<!--    </div>-->
<!--  </nav>-->
</div>

</body>
